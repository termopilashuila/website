<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Alojamiento - Finca Termópilas</title>
    <meta name="description" content="Descubre nuestro alojamiento de lujo y estándar en Finca Termópilas, Huila. Alojamiento con vistas a las montañas, viñedos y árboles de cacao.">
    <meta name="keywords" content="Finca Termópilas, alojamiento Huila, alojamiento de lujo, Rivera, habitaciones con vista">
    <meta name="author" content="Finca Termópilas">
    
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-2406CNRCX9"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'G-2406CNRCX9');
    </script>
    
    <!-- Favicon -->
    <link rel="icon" href="assets/images/favicon.png" type="image/png">
    
    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://fincatermopilas.com/alojamiento.html">
    <meta property="og:title" content="Alojamiento - Finca Termópilas">
    <meta property="og:description" content="Descubre nuestro alojamiento de lujo y estándar en Finca Termópilas, Huila.">
    <meta property="og:image" content="assets/images/alojamiento/section1-room1.jpg">
    
    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image">
    <meta property="twitter:url" content="https://fincatermopilas.com/alojamiento.html">
    <meta property="twitter:title" content="Alojamiento - Finca Termópilas">
    <meta property="twitter:description" content="Descubre nuestro alojamiento de lujo y estándar en Finca Termópilas, Huila.">
    <meta property="twitter:image" content="assets/images/alojamiento/section1-room1.jpg">
    
    <!-- CSS -->
    <link rel="stylesheet" href="assets/css/fonts.css">
    <link rel="stylesheet" href="styles/main.css">
    <link rel="stylesheet" href="styles/carousel.css">
    <link rel="stylesheet" href="styles/hero.css">
    <link rel="stylesheet" href="styles/rooms.css">
    <link rel="stylesheet" href="styles/utilities.css">
    <link rel="stylesheet" href="styles/whatsapp-button.css">
    
    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;500;600&family=Lora:ital,wght@0,400;0,600;0,700;1,400&display=swap" rel="stylesheet">
    
    <!-- Font Awesome for icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    
    <!-- JavaScript -->
    <script src="dist/main.js" defer></script>
</head>
<body>
    <!-- Skip link for accessibility -->
    <a href="#main-content" class="skip-link">Saltar al contenido principal</a>
    
    <!-- Header will be dynamically generated by TypeScript -->
    <header class="hero rooms-hero">
        <!-- Content will be injected by TypeScript -->
    </header>

    <main id="main-content">
        <div class="return-to-coliving" id="return-coliving-container" style="display: none;">
            <a href="coliving.html#coliving-experiences" class="return-button">
                <i class="fas fa-arrow-left"></i> Volver a Coliving para Nómadas Digitales
            </a>
        </div>

        <div class="room-filters">
            <button class="filter-button active" data-filter="all">Todas</button>
            <button class="filter-button" data-filter="luxury">De Lujo</button>
            <button class="filter-button" data-filter="standard">Estándar</button>
            <button class="filter-button" data-filter="couples">Parejas</button>
            <button class="filter-button" data-filter="groups">Grupos</button>
        </div>

        <div class="rooms-grid">
            <!-- Cabaña 1 -->
            <div class="room-card" id="luxury" data-category="luxury couples">
                <div class="luxury-badge">De Lujo</div>
                <div class="room-carousel">
                    <div class="carousel-container">
                        <img src="assets/images/alojamiento/cabana-1/image1.png" alt="Cabaña 1 - Vista 1" class="carousel-image active">
                        <img src="assets/images/alojamiento/cabana-1/image2.png" alt="Cabaña 1 - Vista 2" class="carousel-image">
                        <img src="assets/images/alojamiento/cabana-1/image3.png" alt="Cabaña 1 - Vista 3" class="carousel-image">
                        <img src="assets/images/alojamiento/cabana-1/image4.png" alt="Cabaña 1 - Vista 4" class="carousel-image">
                        <img src="assets/images/alojamiento/cabana-1/image5.png" alt="Cabaña 1 - Vista 5" class="carousel-image">
                        <img src="assets/images/alojamiento/cabana-1/image6.png" alt="Cabaña 1 - Vista 6" class="carousel-image">
                        <button class="carousel-button prev" aria-label="Anterior imagen">❮</button>
                        <button class="carousel-button next" aria-label="Siguiente imagen">❯</button>
                    </div>
                    <div class="carousel-dots">
                        <span class="dot active" data-index="0"></span>
                        <span class="dot" data-index="1"></span>
                        <span class="dot" data-index="2"></span>
                        <span class="dot" data-index="3"></span>
                        <span class="dot" data-index="4"></span>
                        <span class="dot" data-index="5"></span>
                    </div>
                </div>
                <div class="room-content">
                    <h3 class="room-title">Cabaña 1</h3>
                    <ul class="room-features">
                        <li>4 personas máx</li>
                        <li>Cama queen con nido</li>
                        <li>Baño privado</li>
                        <li>Agua caliente</li>
                        <li>Aire acondicionado</li>
                        <li>Escritorio</li>
                        <li>Wifi</li>
                        <li>2 terrazas</li>
                        <li>TV</li>
                        <li>Sin acceso a discapacitados (2do piso)</li>
                    </ul>
                    <a href="https://book.octorate.com/octobook/site/reservation/calendar.xhtml?codice=522604&lang=ES&room=749778" class="book-button" target="_blank" rel="noopener noreferrer">Reserva Ahora</a>
                </div>
            </div>

            <!-- Gemela 1 -->
            <div class="room-card" data-category="luxury couples">
                <div class="luxury-badge">De Lujo</div>
                <div class="room-carousel">
                    <div class="carousel-container">
                        <img src="assets/images/alojamiento/gemela-1/image1.png" alt="Gemela 1 - Vista 1" class="carousel-image active">
                        <img src="assets/images/alojamiento/gemela-1/image2.png" alt="Gemela 1 - Vista 2" class="carousel-image">
                        <img src="assets/images/alojamiento/gemela-1/image3.png" alt="Gemela 1 - Vista 3" class="carousel-image">
                        <img src="assets/images/alojamiento/gemela-1/image4.png" alt="Gemela 1 - Vista 4" class="carousel-image">
                        <img src="assets/images/alojamiento/gemela-1/image5.png" alt="Gemela 1 - Vista 5" class="carousel-image">
                        <img src="assets/images/alojamiento/gemela-1/image6.png" alt="Gemela 1 - Vista 6" class="carousel-image">
                        <button class="carousel-button prev" aria-label="Anterior imagen">❮</button>
                        <button class="carousel-button next" aria-label="Siguiente imagen">❯</button>
                    </div>
                    <div class="carousel-dots">
                        <span class="dot active" data-index="0"></span>
                        <span class="dot" data-index="1"></span>
                        <span class="dot" data-index="2"></span>
                        <span class="dot" data-index="3"></span>
                        <span class="dot" data-index="4"></span>
                        <span class="dot" data-index="5"></span>
                    </div>
                </div>
                <div class="room-content">
                    <h3 class="room-title">Gemela 1</h3>
                    <ul class="room-features">
                        <li>4 personas máx</li>
                        <li>Cama queen con nido</li>
                        <li>Baño privado</li>
                        <li>Agua caliente</li>
                        <li>Aire acondicionado</li>
                        <li>Escritorio</li>
                        <li>Wifi</li>
                        <li>1 terraza</li>
                        <li>Proyector con bafle</li>
                        <li>Con acceso a discapacitados (2do piso)</li>
                    </ul>
                    <a href="https://book.octorate.com/octobook/site/reservation/calendar.xhtml?codice=522604&lang=ES&room=739420" class="book-button" target="_blank" rel="noopener noreferrer">Reserva Ahora</a>
                </div>
            </div>

            <!-- Gemela 2 -->
            <div class="room-card" data-category="luxury couples">
                <div class="luxury-badge">De Lujo</div>
                <div class="room-carousel">
                    <div class="carousel-container">
                        <img src="assets/images/alojamiento/gemela-2/image1.png" alt="Gemela 2 - Vista 1" class="carousel-image active">
                        <img src="assets/images/alojamiento/gemela-2/image2.png" alt="Gemela 2 - Vista 2" class="carousel-image">
                        <img src="assets/images/alojamiento/gemela-2/image3.png" alt="Gemela 2 - Vista 3" class="carousel-image">
                        <img src="assets/images/alojamiento/gemela-2/image4.png" alt="Gemela 2 - Vista 4" class="carousel-image">
                        <img src="assets/images/alojamiento/gemela-2/image5.png" alt="Gemela 2 - Vista 5" class="carousel-image">
                        <img src="assets/images/alojamiento/gemela-2/image6.png" alt="Gemela 2 - Vista 6" class="carousel-image">
                        <button class="carousel-button prev" aria-label="Anterior imagen">❮</button>
                        <button class="carousel-button next" aria-label="Siguiente imagen">❯</button>
                    </div>
                    <div class="carousel-dots">
                        <span class="dot active" data-index="0"></span>
                        <span class="dot" data-index="1"></span>
                        <span class="dot" data-index="2"></span>
                        <span class="dot" data-index="3"></span>
                        <span class="dot" data-index="4"></span>
                        <span class="dot" data-index="5"></span>
                    </div>
                </div>
                <div class="room-content">
                    <h3 class="room-title">Gemela 2</h3>
                    <ul class="room-features">
                        <li>4 personas máx</li>
                        <li>Cama queen con nido</li>
                        <li>Baño privado</li>
                        <li>Agua caliente</li>
                        <li>Aire acondicionado</li>
                        <li>Escritorio</li>
                        <li>Wifi</li>
                        <li>1 terraza</li>
                        <li>Proyector con bafle</li>
                        <li>Sin acceso a discapacitados (2do piso)</li>
                    </ul>
                    <a href="https://book.octorate.com/octobook/site/reservation/calendar.xhtml?codice=522604&lang=ES&room=739421" class="book-button" target="_blank" rel="noopener noreferrer">Reserva Ahora</a>
                </div>
            </div>

            <!-- Habitación A -->
            <div class="room-card" id="standard" data-category="standard">
                <div class="room-carousel">
                    <div class="carousel-container">
                        <img src="assets/images/alojamiento/habitacion-a/image1.png" alt="Habitación A - Vista 1" class="carousel-image active">
                        <img src="assets/images/alojamiento/habitacion-a/image2.png" alt="Habitación A - Vista 2" class="carousel-image">
                        <img src="assets/images/alojamiento/habitacion-a/image3.png" alt="Habitación A - Vista 3" class="carousel-image">
                        <img src="assets/images/alojamiento/habitacion-a/image4.png" alt="Habitación A - Vista 4" class="carousel-image">
                        <button class="carousel-button prev" aria-label="Anterior imagen">❮</button>
                        <button class="carousel-button next" aria-label="Siguiente imagen">❯</button>
                    </div>
                    <div class="carousel-dots">
                        <span class="dot active" data-index="0"></span>
                        <span class="dot" data-index="1"></span>
                        <span class="dot" data-index="2"></span>
                        <span class="dot" data-index="3"></span>
                    </div>
                </div>
                <div class="room-content">
                    <h3 class="room-title">Habitación A</h3>
                    <ul class="room-features">
                        <li>4 personas máx</li>
                        <li>Camas dobles</li>
                        <li>Baño privado</li>
                        <li>Agua caliente</li>
                        <li>Wifi</li>
                        <li>Ventilador de techo</li>
                        <li>Sin acceso a discapacitados (escalones)</li>
                    </ul>
                    <a href="https://book.octorate.com/octobook/site/reservation/calendar.xhtml?codice=522604&lang=ES&room=700380" class="book-button" target="_blank" rel="noopener noreferrer">Reserva Ahora</a>
                </div>
            </div>
            
            <!-- Habitación B -->
            <div class="room-card" data-category="standard">
                <div class="room-carousel">
                    <div class="carousel-container">
                        <img src="assets/images/alojamiento/habitacion-b/image1.png" alt="Habitación B - Vista 1" class="carousel-image active">
                        <img src="assets/images/alojamiento/habitacion-b/image2.png" alt="Habitación B - Vista 2" class="carousel-image">
                        <img src="assets/images/alojamiento/habitacion-b/image3.png" alt="Habitación B - Vista 3" class="carousel-image">
                        <img src="assets/images/alojamiento/habitacion-b/image4.png" alt="Habitación B - Vista 4" class="carousel-image">
                        <button class="carousel-button prev" aria-label="Anterior imagen">❮</button>
                        <button class="carousel-button next" aria-label="Siguiente imagen">❯</button>
                    </div>
                    <div class="carousel-dots">
                        <span class="dot active" data-index="0"></span>
                        <span class="dot" data-index="1"></span>
                        <span class="dot" data-index="2"></span>
                        <span class="dot" data-index="3"></span>
                    </div>
                </div>
                <div class="room-content">
                    <h3 class="room-title">Habitación B</h3>
                    <ul class="room-features">
                        <li>4 personas máx</li>
                        <li>Camas dobles</li>
                        <li>Baño privado</li>
                        <li>Agua caliente</li>
                        <li>Aire acondicionado</li>
                        <li>Wifi</li>
                        <li>Escritorio</li>
                        <li>Sin acceso a discapacitados (escalones)</li>
                    </ul>
                    <a href="https://book.octorate.com/octobook/site/reservation/calendar.xhtml?codice=522604&lang=ES&room=700381" class="book-button" target="_blank" rel="noopener noreferrer">Reserva Ahora</a>
                </div>
            </div>
            
            <!-- Habitación C -->
            <div class="room-card" data-category="standard couples">
                <div class="room-carousel">
                    <div class="carousel-container">
                        <img src="assets/images/alojamiento/habitacion-c/image1.png" alt="Habitación C - Vista 1" class="carousel-image active">
                        <img src="assets/images/alojamiento/habitacion-c/image2.png" alt="Habitación C - Vista 2" class="carousel-image">
                        <img src="assets/images/alojamiento/habitacion-c/image3.png" alt="Habitación C - Vista 3" class="carousel-image">
                        <button class="carousel-button prev" aria-label="Anterior imagen">❮</button>
                        <button class="carousel-button next" aria-label="Siguiente imagen">❯</button>
                    </div>
                    <div class="carousel-dots">
                        <span class="dot active" data-index="0"></span>
                        <span class="dot" data-index="1"></span>
                        <span class="dot" data-index="2"></span>
                    </div>
                </div>
                <div class="room-content">
                    <h3 class="room-title">Habitación C</h3>
                    <ul class="room-features">
                        <li>2 personas máx</li>
                        <li>Cama doble</li>
                        <li>Baño privado</li>
                        <li>Agua caliente</li>
                        <li>Wifi</li>
                        <li>Ventilador de techo</li>
                        <li>Sin acceso a discapacitados (escalones)</li>
                    </ul>
                    <a href="https://book.octorate.com/octobook/site/reservation/calendar.xhtml?codice=522604&lang=ES&room=700382" class="book-button" target="_blank" rel="noopener noreferrer">Reserva Ahora</a>
                </div>
            </div>
            
            <!-- Habitación D -->
            <div class="room-card" data-category="standard couples">
                <div class="room-carousel">
                    <div class="carousel-container">
                        <img src="assets/images/alojamiento/habitacion-d/image1.png" alt="Habitación D - Vista 1" class="carousel-image active">
                        <img src="assets/images/alojamiento/habitacion-d/image2.png" alt="Habitación D - Vista 2" class="carousel-image">
                        <img src="assets/images/alojamiento/habitacion-d/image3.png" alt="Habitación D - Vista 3" class="carousel-image">
                        <img src="assets/images/alojamiento/habitacion-d/image4.png" alt="Habitación D - Vista 4" class="carousel-image">
                        <button class="carousel-button prev" aria-label="Anterior imagen">❮</button>
                        <button class="carousel-button next" aria-label="Siguiente imagen">❯</button>
                    </div>
                    <div class="carousel-dots">
                        <span class="dot active" data-index="0"></span>
                        <span class="dot" data-index="1"></span>
                        <span class="dot" data-index="2"></span>
                        <span class="dot" data-index="3"></span>
                    </div>
                </div>
                <div class="room-content">
                    <h3 class="room-title">Habitación D</h3>
                    <ul class="room-features">
                        <li>4 personas máx</li>
                        <li>Cama doble</li>
                        <li>Sofá cama</li>
                        <li>Baño privado</li>
                        <li>Agua caliente</li>
                        <li>Wifi</li>
                        <li>Ventilador de techo</li>
                        <li>Con acceso a discapacitados</li>
                    </ul>
                    <a href="https://book.octorate.com/octobook/site/reservation/calendar.xhtml?codice=522604&lang=ES&room=700383" class="book-button" target="_blank" rel="noopener noreferrer">Reserva Ahora</a>
                </div>
            </div>
            
            <!-- Habitación E -->
            <div class="room-card" data-category="standard groups">
                <div class="room-carousel">
                    <div class="carousel-container">
                        <img src="assets/images/alojamiento/habitacion-e/image1.png" alt="Habitación E - Vista 1" class="carousel-image active">
                        <img src="assets/images/alojamiento/habitacion-e/image2.png" alt="Habitación E - Vista 2" class="carousel-image">
                        <button class="carousel-button prev" aria-label="Anterior imagen">❮</button>
                        <button class="carousel-button next" aria-label="Siguiente imagen">❯</button>
                    </div>
                    <div class="carousel-dots">
                        <span class="dot active" data-index="0"></span>
                        <span class="dot" data-index="1"></span>
                    </div>
                </div>
                <div class="room-content">
                    <h3 class="room-title">Habitación E</h3>
                    <ul class="room-features">
                        <li>6 personas máx</li>
                        <li>Camas dobles</li>
                        <li>Baño privado</li>
                        <li>Agua caliente</li>
                        <li>Escritorio</li>
                        <li>Wifi</li>
                        <li>Ventiladores de techo</li>
                        <li>Con acceso a discapacitados</li>
                    </ul>
                    <a href="https://book.octorate.com/octobook/site/reservation/calendar.xhtml?codice=522604&lang=ES&room=700376" class="book-button" target="_blank" rel="noopener noreferrer">Reserva Ahora</a>
                </div>
            </div>
        </div>
    </main>

    <!-- WhatsApp Button -->
    <a href="https://wa.me/573143428579?text=Hola,%20estoy%20interesado%20en%20reservar%20alojamiento%20en%20Finca%20Termópilas" 
       class="whatsapp-button" 
       target="_blank"
       rel="noopener noreferrer"
       aria-label="Contactar por WhatsApp"
       title="Contactar por WhatsApp"
       id="whatsapp-button">
        <i class="fab fa-whatsapp"></i>
    </a>

    <!-- Footer will be dynamically generated by TypeScript -->
    <footer id="contacto">
        <!-- Content will be injected by TypeScript -->
    </footer>

    <script>
        // Room filtering
        const filterButtons = document.querySelectorAll('.filter-button');
        const roomCards = document.querySelectorAll('.room-card');
        
        filterButtons.forEach(button => {
            button.addEventListener('click', () => {
                // Remove active class from all buttons
                filterButtons.forEach(btn => btn.classList.remove('active'));
                
                // Add active class to clicked button
                button.classList.add('active');
                
                // Get filter value
                const filterValue = button.getAttribute('data-filter');
                
                // Filter rooms
                roomCards.forEach(card => {
                    if (filterValue === 'all') {
                        card.style.display = 'block';
                    } else {
                        if (card.getAttribute('data-category').includes(filterValue)) {
                            card.style.display = 'block';
                        } else {
                            card.style.display = 'none';
                        }
                    }
                });
            });
        });

        // Add Google Analytics event tracking for all buttons
        document.addEventListener('DOMContentLoaded', function() {
            // Track room booking buttons
            const bookButtons = document.querySelectorAll('.book-button');
            bookButtons.forEach(button => {
                button.addEventListener('click', function() {
                    // Get the room title from the parent card
                    const roomCard = this.closest('.room-card');
                    const roomTitle = roomCard.querySelector('.room-title').textContent;
                    
                    // Send Google Analytics event
                    gtag('event', `alojamiento_room_booking_${roomTitle.toLowerCase().replace(/\s+/g, '_')}`, {
                        'event_category': 'Reservations',
                        'event_label': `${roomTitle} - Booking Button`,
                        'room_name': roomTitle,
                        'page': 'alojamiento',
                        'value': 1
                    });
                });
            });

            // Track filter buttons
            const filterButtons = document.querySelectorAll('.filter-button');
            filterButtons.forEach(button => {
                button.addEventListener('click', function() {
                    const filterValue = this.getAttribute('data-filter');
                    const filterText = this.textContent;
                    
                    gtag('event', `alojamiento_filter_${filterValue}`, {
                        'event_category': 'Navigation',
                        'event_label': `Filter: ${filterText}`,
                        'filter_type': filterValue,
                        'page': 'alojamiento',
                        'value': 1
                    });
                });
            });

            // Track WhatsApp button
            const whatsappButton = document.getElementById('whatsapp-button');
            if (whatsappButton) {
                whatsappButton.addEventListener('click', function() {
                    gtag('event', 'alojamiento_whatsapp_contact', {
                        'event_category': 'Contact',
                        'event_label': 'WhatsApp Button - Alojamiento',
                        'page': 'alojamiento',
                        'value': 1
                    });
                });
            }

            // Track return to coliving button
            const returnButton = document.querySelector('.return-button');
            if (returnButton) {
                returnButton.addEventListener('click', function() {
                    gtag('event', 'alojamiento_return_coliving', {
                        'event_category': 'Navigation',
                        'event_label': 'Return to Coliving',
                        'page': 'alojamiento',
                        'destination': 'coliving',
                        'value': 1
                    });
                });
            }
            
            // Check if user came from coliving page
            const referrer = document.referrer;
            if (referrer && referrer.includes('coliving.html')) {
                document.getElementById('return-coliving-container').style.display = 'block';
            }
            
            // Check for hash in URL to focus on specific room type
            const hash = window.location.hash;
            if (hash) {
                // Scroll to the element with the ID
                const element = document.querySelector(hash);
                if (element) {
                    setTimeout(() => {
                        element.scrollIntoView({ behavior: 'smooth' });
                    }, 500);
                    
                    // Find the corresponding filter button and click it
                    const category = element.getAttribute('data-category');
                    if (category) {
                        const filterType = category.split(' ')[0]; // Get first category
                        const filterButton = document.querySelector(`.filter-button[data-filter="${filterType}"]`);
                        if (filterButton) {
                            filterButton.click();
                        }
                    }
                }
            }

            // Carousel functionality
            const carousels = document.querySelectorAll('.room-carousel');
            
            carousels.forEach(carousel => {
                const images = carousel.querySelectorAll('.carousel-image');
                const dots = carousel.querySelectorAll('.dot');
                const prevButton = carousel.querySelector('.carousel-button.prev');
                const nextButton = carousel.querySelector('.carousel-button.next');
                let currentIndex = 0;

                // Get room name for analytics
                const roomCard = carousel.closest('.room-card');
                const roomTitle = roomCard.querySelector('.room-title').textContent;
                const roomSlug = roomTitle.toLowerCase().replace(/\s+/g, '_');

                function showImage(index) {
                    images.forEach(img => img.classList.remove('active'));
                    dots.forEach(dot => dot.classList.remove('active'));
                    
                    images[index].classList.add('active');
                    dots[index].classList.add('active');
                    currentIndex = index;
                }

                function nextImage(source = 'auto') {
                    const newIndex = (currentIndex + 1) % images.length;
                    showImage(newIndex);
                    
                    // Track carousel navigation
                    if (source !== 'auto') {
                        gtag('event', `alojamiento_carousel_next_${roomSlug}`, {
                            'event_category': 'Engagement',
                            'event_label': `${roomTitle} - Carousel Next`,
                            'room_name': roomTitle,
                            'page': 'alojamiento',
                            'carousel_action': 'next',
                            'image_index': newIndex,
                            'value': 1
                        });
                    }
                }

                function prevImage() {
                    const newIndex = (currentIndex - 1 + images.length) % images.length;
                    showImage(newIndex);
                    
                    // Track carousel navigation
                    gtag('event', `alojamiento_carousel_prev_${roomSlug}`, {
                        'event_category': 'Engagement',
                        'event_label': `${roomTitle} - Carousel Previous`,
                        'room_name': roomTitle,
                        'page': 'alojamiento',
                        'carousel_action': 'previous',
                        'image_index': newIndex,
                        'value': 1
                    });
                }

                // Event listeners
                nextButton.addEventListener('click', () => nextImage('manual'));
                prevButton.addEventListener('click', prevImage);

                dots.forEach((dot, index) => {
                    dot.addEventListener('click', () => {
                        showImage(index);
                        
                        // Track dot navigation
                        gtag('event', `alojamiento_carousel_dot_${roomSlug}`, {
                            'event_category': 'Engagement',
                            'event_label': `${roomTitle} - Carousel Dot Navigation`,
                            'room_name': roomTitle,
                            'page': 'alojamiento',
                            'carousel_action': 'dot_navigation',
                            'image_index': index,
                            'value': 1
                        });
                    });
                });

                // Keyboard navigation
                carousel.addEventListener('keydown', (e) => {
                    if (e.key === 'ArrowLeft') {
                        prevImage();
                        
                        // Track keyboard navigation
                        gtag('event', `alojamiento_carousel_keyboard_prev_${roomSlug}`, {
                            'event_category': 'Engagement',
                            'event_label': `${roomTitle} - Carousel Keyboard Previous`,
                            'room_name': roomTitle,
                            'page': 'alojamiento',
                            'carousel_action': 'keyboard_previous',
                            'interaction_type': 'keyboard',
                            'value': 1
                        });
                    }
                    if (e.key === 'ArrowRight') {
                        nextImage('keyboard');
                        
                        // Track keyboard navigation
                        gtag('event', `alojamiento_carousel_keyboard_next_${roomSlug}`, {
                            'event_category': 'Engagement',
                            'event_label': `${roomTitle} - Carousel Keyboard Next`,
                            'room_name': roomTitle,
                            'page': 'alojamiento',
                            'carousel_action': 'keyboard_next',
                            'interaction_type': 'keyboard',
                            'value': 1
                        });
                    }
                });

                // Touch events
                let touchStartX = 0;
                let touchEndX = 0;

                carousel.addEventListener('touchstart', (e) => {
                    touchStartX = e.touches[0].clientX;
                });

                carousel.addEventListener('touchend', (e) => {
                    touchEndX = e.changedTouches[0].clientX;
                    if (touchStartX - touchEndX > 50) {
                        nextImage('swipe'); // Swipe left
                        
                        // Track swipe navigation
                        gtag('event', `alojamiento_carousel_swipe_next_${roomSlug}`, {
                            'event_category': 'Engagement',
                            'event_label': `${roomTitle} - Carousel Swipe Next`,
                            'room_name': roomTitle,
                            'page': 'alojamiento',
                            'carousel_action': 'swipe_next',
                            'interaction_type': 'touch',
                            'value': 1
                        });
                    }
                    if (touchEndX - touchStartX > 50) {
                        prevImage(); // Swipe right
                        
                        // Track swipe navigation
                        gtag('event', `alojamiento_carousel_swipe_prev_${roomSlug}`, {
                            'event_category': 'Engagement',
                            'event_label': `${roomTitle} - Carousel Swipe Previous`,
                            'room_name': roomTitle,
                            'page': 'alojamiento',
                            'carousel_action': 'swipe_previous',
                            'interaction_type': 'touch',
                            'value': 1
                        });
                    }
                });

                // Auto advance every 50 seconds (no tracking for auto advance)
                setInterval(() => nextImage('auto'), 50000);
            });
        });
    </script>
</body>
</html> 