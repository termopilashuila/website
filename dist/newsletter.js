var t={233:t=>{class e{constructor(t="#newsletter-form"){this.formSelector=t,this.apiEndpoint="https://script.google.com/macros/s/AKfycbw2s7Kt7lNkcDTlKfDxzaKIi3LO2EH7dJ5iogkWVXQcsFqgPa1Bgi77-AGrk2hyAvh_hg/exec",this.init()}init(){document.addEventListener("DOMContentLoaded",(()=>{this.bindFormEvents()}))}bindFormEvents(){const t=document.querySelector(this.formSelector);t?t.addEventListener("submit",(t=>this.handleSubmit(t))):console.warn(`Newsletter form not found: ${this.formSelector}`)}async handleSubmit(t){t.preventDefault();const e=t.target,o=e.querySelector('button[type="submit"]');if(!this.validateForm(e))return;this.setLoadingState(o,!0),this.trackFormSubmission();const r=this.getFormData(e);try{await this.submitForm(r),this.showSuccess(),e.reset()}catch(t){console.error("Newsletter subscription error:",t),this.showError()}finally{this.setLoadingState(o,!1)}}validateForm(t){const e=t.querySelector('input[name="name"]'),o=t.querySelector('input[name="email"]');if(!e||!o)return console.error("Required form fields not found"),!1;const r=e.value.trim(),i=o.value.trim();return r?!(!i||!this.isValidEmail(i))||(this.showValidationError("Por favor ingresa un correo electrónico válido"),o.focus(),!1):(this.showValidationError("Por favor ingresa tu nombre"),e.focus(),!1)}isValidEmail(t){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t)}getFormData(t){return{name:t.querySelector('input[name="name"]').value.trim(),email:t.querySelector('input[name="email"]').value.trim()}}async submitForm(t){return await fetch(this.apiEndpoint,{method:"POST",headers:{"Content-Type":"application/json"},mode:"no-cors",body:JSON.stringify(t)})}setLoadingState(t,e){t&&(e?(t.originalText=t.innerHTML,t.innerHTML="Enviando...",t.disabled=!0,t.style.opacity="0.7"):(t.innerHTML=t.originalText||"Suscribirse",t.disabled=!1,t.style.opacity="1"))}trackFormSubmission(){window.gtag&&"function"==typeof window.gtag&&window.gtag("event","form_submission",{event_category:"newsletter",event_label:"newsletter_subscription"})}showSuccess(){const t="¡Gracias por suscribirte! Recibirás las últimas noticias y artículos directamente en tu correo electrónico.";this.canUseToast()?this.showToast(t,"success"):alert(t)}showError(){const t="Hubo un error al procesar tu solicitud. Por favor, intenta nuevamente más tarde.";this.canUseToast()?this.showToast(t,"error"):alert(t)}showValidationError(t){this.canUseToast()?this.showToast(t,"warning"):alert(t)}canUseToast(){return"function"==typeof window.showToast||window.Swal&&"function"==typeof window.Swal.fire}showToast(t,e="info"){if(window.Swal&&"function"==typeof window.Swal.fire){const o="error"===e?"error":"warning"===e?"warning":"success"===e?"success":"info";window.Swal.fire({text:t,icon:o,confirmButtonText:"OK",confirmButtonColor:"#F29F05"})}else"function"!=typeof window.showToast?alert(t):window.showToast(t,e)}}window.newsletterHandler=new e,t.exports&&(t.exports=e)}},e={};!function o(r){var i=e[r];if(void 0!==i)return i.exports;var s=e[r]={exports:{}};return t[r](s,s.exports,o),s.exports}(233);